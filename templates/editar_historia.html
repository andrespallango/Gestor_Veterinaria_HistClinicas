{% extends "base.html" %}
{% block content %}
    <h1>Editar Historia Clínica General</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="hidden" name="id" value="{{ historia[0] if historia else '' }}">
        Médico Responsable: <input type="text" name="medico_responsable" value="{{ historia[4] if historia else '' }}" required><br><br>
        Propietario: <input type="text" name="propietario" value="{{ historia[1] if historia else '' }}" required>
        Fecha de Creación: <input type="date" name="fecha_creacion" value="{{ historia[5] or '' }}" required><br><br>
        Cédula: <input type="text" name="cedula" value="{{ historia[2] if historia else '' }}" required><br><br>
        Dirección: <input type="text" name="direccion" value="{{ historia[3] if historia else '' }}" required><br><br>
        Telefono: <input type="text" name="telefono" value="{{ historia[6] if historia else '' }}" required><br><br>
        Nombre del Paciente: <input type="text" name="nombre_paciente" value="{{ historia[7] if historia else '' }}" required>
        Fecha de Nacimiento: <input type="date" name="fecha_nacimiento" value="{{ historia[8] or '' }}" required><br><br>
        Especie:
        <select name="especie" required>
            <option value="Perro" {% if historia[9] == "Perro" %} selected {% endif %}>Perro</option>
            <option value="Gato" {% if historia[9] == "Gato" %} selected {% endif %}>Gato</option>
        </select>
        Sexo:
        <select name="sexo" required>
            <option value="Macho" {% if historia[11] == "Macho" %} selected {% endif %}>Macho</option>
            <option value="Hembra" {% if historia[11] == "Hembra" %} selected {% endif %}>Hembra</option>
        </select>
        <br><br>
        Raza: <input type="text" name="raza" value="{{ historia[10] or '' }}" required>
        Color: <input type="text" name="color" value="{{ historia[12] or '' }}" required><br><br>
        
        Vacuna 1: <input type="text" name="vacuna_1" value="{{ historia[13] if historia else '' }}">
        Fecha: <input type="date" name="fecha_vacuna_1" value="{{ historia[14] or '' }}"><br><br>
        Vacuna 2: <input type="text" name="vacuna_2" value="{{ historia[15] if historia else '' }}">
        Fecha: <input type="date" name="fecha_vacuna_2" value="{{ historia[16] or '' }}"><br><br>
        Vacuna 3: <input type="text" name="vacuna_3" value="{{ historia[17] if historia else '' }}">
        Fecha: <input type="date" name="fecha_vacuna_3" value="{{ historia[18] or '' }}"><br><br>
        Vacuna 4: <input type="text" name="vacuna_4" value="{{ historia[19] if historia else '' }}">
        Fecha: <input type="date" name="fecha_vacuna_4" value="{{ historia[20] or '' }}"><br><br>
        Vacuna 5: <input type="text" name="vacuna_5" value="{{ historia[21] if historia else '' }}">
        Fecha: <input type="date" name="fecha_vacuna_5" value="{{ historia[22] or '' }}"><br><br>
        Fecha de Última Desparasitación: <input type="date" name="fecha_ultima_desparasitacion" value="{{ historia[23] or '' }}"><br><br>
        Motivo de Consulta:<br><textarea name="motivo_consulta" rows="5" cols="50">{{ historia[24] if historia else '' }}</textarea><br><br>
        Sintomatología: <br><textarea name="sintomatologia" rows="5" cols="50">{{ historia[25] if historia else '' }}</textarea><br><br>
        Tratamientos o Enfermedades: <br><textarea name="tratamiento" rows="5" cols="50">{{ historia[26] if historia else '' }}</textarea><br><br>
        Diagnóstico Diferencial: <br><textarea name="diagnostico_diferencial" rows="5" cols="50">{{ historia[27] if historia else '' }}</textarea><br><br>
        Exámenes Complementarios: <br><textarea name="examenes_complementarios" rows="5" cols="50">{{ historia[28] if historia else '' }}</textarea><br><br>
        Diagnóstico Definitivo: <br><textarea name="diagnostico_definitivo" rows="5" cols="50">{{ historia[29] if historia else '' }}</textarea><br><br>
        Tratamiento: <br><textarea name="tratamiento_final" rows="5" cols="50">{{ historia[30] if historia else '' }}</textarea><br><br>
        Medicamento: <input type="text" name="medicamento_1" value="{{ historia[31] or '' }}">
        Posología: <input type="text" name="posologia_1" value="{{ historia[32] or '' }}"><br><br>
        Medicamento: <input type="text" name="medicamento_2" value="{{ historia[33] or '' }}">
        Posología: <input type="text" name="posologia_2" value="{{ historia[34] or '' }}"><br><br>
        Medicamento: <input type="text" name="medicamento_3" value="{{ historia[35] or '' }}">
        Posología: <input type="text" name="posologia_3" value="{{ historia[36] or '' }}"><br><br>
        Medicamento: <input type="text" name="medicamento_4" value="{{ historia[37] or '' }}">
        Posología: <input type="text" name="posologia_4" value="{{ historia[38] or '' }}"><br><br>
        Medicamento: <input type="text" name="medicamento_5" value="{{ historia[39] or '' }}">
        Posología: <input type="text" name="posologia_5" value="{{ historia[40] or '' }}"><br><br>
        Fecha de próxima cita: <input type="date" name="proxima_cita" value="{{ historia[41] or '' }}"><br><br>

        <!-- Botones dentro de un div para alinearlos -->
        <div class="button-container">
            <input type="submit" value="Actualizar Historia" class="btn"> <!-- Estilo del botón primario -->
            <a href="javascript:history.back()" class="btn secundary-btn">Volver</a> <!-- Estilo del botón secundario -->
        </div>
    </form>


{% endblock %}
